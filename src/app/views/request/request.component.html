<div class="container mt-2">
  <h2 style="color: #ff7900;"> New Request</h2>
  
    <form #userForm="ngForm" (ngSubmit)="makeRequest(request)">
      <div style="display: flex;">

        <!-- form section -->
        <div style="width:50%">

            <div class="mb-3" style="display: flex;">
            <div style="width:45%">
              <label for="exampleInputTitle" class="form-label">Node title</label>
              <input type="text" class="form-control" id="exampleInputTitle"
              [(ngModel)]="request.title" name="title"
                #title="ngModel" required minlength="3">
                <div  style="color: red" *ngIf="title.invalid && title.touched">
                    Required & min 3 chars 
                </div>
            </div>
            <div style="width:45%;margin-left: 10%;">
                <label for="exampleInputMAC" class="form-label">MAC address</label>
                <input type="text" class="form-control" id="exampleInputMAC"
                [(ngModel)]="request.MAC" name="MAC"
                  #MAC="ngModel" required minlength="3">
                  <div  style="color: red" *ngIf="MAC.invalid && MAC.touched">
                    Required & min 3 chars 
                </div>
              </div>
            </div>

            <div class="mb-3">
                <label for="exampleInputDescription" class="form-label">Node description</label>
                <textarea class="form-control" id="exampleInputDescription"
                [(ngModel)]="request.desc" name="desc"
                  #desc="ngModel" required minlength="10"></textarea>
                  <div  style="color: red" *ngIf="desc.invalid && desc.touched">
                    Required & min 10 chars 
                </div>
            </div>

            <div class="mb-3">
                <label for="exampleInputLocation" class="form-label">Node location</label>
                <input class="form-control" id="exampleInputLocation"
                [(ngModel)]="request.location" name="location"
                  #location="ngModel" required minlength="3">
                  <div  style="color: red" *ngIf="location.invalid && location.touched">
                    Required & min 3 chars 
                </div>
            </div>

            <div class="mb-3" style="display: flex;">
                <div style="width:45%">
                  <label for="exampleInputLatitude" class="form-label">Latitude</label>
                  <input type="number" class="form-control" id="exampleInputLatitude"
                  [(ngModel)]="request.lat" name="lat"
                    #lat="ngModel" required min="-90" max="90" >
                    <div  style="color: red" *ngIf="lat.invalid && location.touched">
                        Invalid
                    </div>
                </div>
                <div style="width:45%;margin-left: 10%;">
                    <label for="exampleInputLongitude" class="form-label">Longitude</label>
                    <input type="number" class="form-control" id="exampleInputLongitude"
                    [(ngModel)]="request.long" name="long"
                      #long="ngModel" required min="-180" max="180">
                      <div  style="color: red" *ngIf="long.invalid && location.touched">
                        Invalid
                    </div>
                  </div>
                </div>

        </div>




        <!-- map section -->
        <div style="width:49%;margin-left: 1%;">

          <label class="mb-1">Please select Location for the node</label>

          <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
              integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
              crossorigin=""/>
          <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.3.0/dist/MarkerCluster.css" />
          <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.3.0/dist/MarkerCluster.Default.css" />

          <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
              integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
              crossorigin=""></script>
          <script src="https://unpkg.com/leaflet.markercluster@1.3.0/dist/leaflet.markercluster.js"></script>
        
          <div id="map" style="height:90%"></div>
          <!-- {{this.coord.latlng.lat}} , {{this.coord.latlng.lng}} -->
        </div>
      </div>

            






            <div class="pt-3">
                <button type="submit" class="btn btn-primary" style="width: 100%;"
                [disabled]="!userForm.valid">Add new request</button>
            </div>
          </form>
        
    

    
    
</div>