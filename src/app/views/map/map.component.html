<link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
        integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
        crossorigin=""/>
  <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.3.0/dist/MarkerCluster.css" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.3.0/dist/MarkerCluster.Default.css" />

  <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
          integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
          crossorigin=""></script>
  <script src="https://unpkg.com/leaflet.markercluster@1.3.0/dist/leaflet.markercluster.js"></script>


<div class="wrapper">
    <div class="sidebar">

        <div *ngIf="clickedinfo == null">
            <label>No node selected</label>
        </div>

            <div *ngIf="clickedinfo !null">
                <div class="text">
                    Last Received :
                    {{received_at}}
                </div>

                <div style="height: 480px;max-height: 480px; overflow: auto;">
                    <!-- co2 div -->
                    <div *ngIf="co2 !null" class="box">
                        &nbsp;&nbsp;
                        <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40">
                            <g id="CO2" transform="translate(4412 -457)">
                              <rect id="Rectangle_140" data-name="Rectangle 140" width="40" height="40" transform="translate(-4412 457)" fill="#fff" opacity="0"/>
                              <path id="Cloud_carbon" data-name="Cloud carbon" d="M92.046,209.256c-.763,0-1.286.8-1.286,2.27s.512,2.28,1.286,2.28,1.286-.814,1.286-2.28S92.809,209.256,92.046,209.256Zm9.533,1.893a9.208,9.208,0,0,0-16.17-7.719,3.769,3.769,0,0,0-4.532,3.316,6.7,6.7,0,0,0,.819,13.343H98.437a5.022,5.022,0,0,0,3.142-8.94Zm-15.269,4.163a3.44,3.44,0,0,1-3.5-3.777,3.515,3.515,0,0,1,3.516-3.777c1.266,0,2.139.573,2.139,1.145a.73.73,0,0,1-.693.733c-.372,0-.844-.281-1.436-.281-1.045,0-1.758.844-1.758,2.22,0,1.336.713,2.16,1.808,2.16.683,0,1.135-.372,1.517-.372a.714.714,0,0,1,.653.713C88.561,214.71,87.657,215.313,86.311,215.313Zm5.725,0c-1.778,0-2.973-1.406-2.973-3.777s1.2-3.777,2.973-3.777,2.983,1.406,2.983,3.777-1.205,3.777-2.983,3.777Zm6.025,1.774H96.139c-.435,0-.65-.161-.65-.5,0-.268.328-.583.864-1.172.763-.844,1.205-1.379,1.205-1.754a.419.419,0,0,0-.408-.455c-.208,0-.4.161-.516.489-.134.368-.241.549-.529.549a.519.519,0,0,1-.536-.556,1.55,1.55,0,0,1,.335-.877,1.6,1.6,0,0,1,1.279-.616,1.411,1.411,0,0,1,1.527,1.413c0,.763-.609,1.446-1.647,2.478h1c.516,0,.77.161.77.5s-.255.5-.77.5Z" transform="translate(-4480.88 266.908)" fill-rule="evenodd"/>
                            </g>
                          </svg>                          
                        <a class="text">CO<sub>2</sub></a><br>
                        <a class="num">{{co2}} g</a>
                    </div>

                    <!-- light div -->
                    <div *ngIf="light !null" class="box">    
                        &nbsp;&nbsp;    
                        <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40">
                            <g id="Light" transform="translate(4360 -587)">
                              <rect id="Rectangle_143" data-name="Rectangle 143" width="40" height="40" transform="translate(-4360 587)" fill="#fff" opacity="0"/>
                              <path id="Rounded_Rectangle_1_copy_7" data-name="Rounded Rectangle 1 copy 7" d="M92.052,84.8a8.025,8.025,0,1,1-8.025,8.025A8.025,8.025,0,0,1,92.052,84.8ZM76,91.821h4.012a1,1,0,1,1,0,2.006H76a1,1,0,0,1,0-2.006Zm5.4-11.026,2.837,2.837A1,1,0,1,1,82.82,85.05l-2.837-2.837A1,1,0,1,1,81.4,80.795ZM104,82.147l-2.842,2.842a1,1,0,1,1-1.418-1.418l2.842-2.842A1,1,0,1,1,104,82.147Zm-1.417,22.8-2.836-2.828a1,1,0,0,1,1.418-1.414L104,103.529a1,1,0,1,1-1.418,1.414ZM79.99,103.595l2.841-2.833a1,1,0,0,1,1.418,1.414l-2.841,2.833a1,1,0,0,1-1.418-1.414Zm27.977-9.83-4.015,0a1,1,0,0,1,0-2.008l4.015,0a1,1,0,1,1,0,2.007ZM91.034,108.793v-4.014a1.011,1.011,0,1,1,2.022,0v4.014a1.011,1.011,0,1,1-2.022,0Zm1.959-31.976,0,4.017a1.012,1.012,0,0,1-2.023,0l0-4.017a1.012,1.012,0,1,1,2.023,0Z" transform="translate(-4432 514.196)" fill="#222" fill-rule="evenodd"/>
                            </g>
                          </svg>                             
                        <a class="text">Light</a><br>
                        <a class="num">{{light}} Lx</a>
                    </div>

                    <!-- pm10 div -->  
                    <div *ngIf="pm10 !null" class="box"> 
                        &nbsp;&nbsp;
                        <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40">
                            <g id="PM10" transform="translate(4344 -757)">
                              <path id="Storage_cloud_19371" d="M103.459,215.067a5.022,5.022,0,0,1-5.022,5.022H81.7a6.7,6.7,0,0,1-.819-13.343,3.769,3.769,0,0,1,4.532-3.316,9.209,9.209,0,0,1,16.17,7.719A5.013,5.013,0,0,1,103.459,215.067Z" transform="translate(-4413 567)" fill-rule="evenodd"/>
                              <rect id="Rectangle_141" data-name="Rectangle 141" width="40" height="40" transform="translate(-4344 757)" fill="#fff" opacity="0"/>
                            </g>
                          </svg>                                                  
                        <a class="text">pm10</a><br>
                        <a class="num">{{pm10}} µg</a>
                    </div>

                    <!-- pm25 div -->
                    <div *ngIf="pm25 !null" class="box"> 
                        &nbsp;&nbsp;
                        <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40">
                            <g id="PM10" transform="translate(4344 -757)">
                              <path id="Storage_cloud_19371" d="M103.459,215.067a5.022,5.022,0,0,1-5.022,5.022H81.7a6.7,6.7,0,0,1-.819-13.343,3.769,3.769,0,0,1,4.532-3.316,9.209,9.209,0,0,1,16.17,7.719A5.013,5.013,0,0,1,103.459,215.067Z" transform="translate(-4413 567)" fill-rule="evenodd"/>
                              <rect id="Rectangle_141" data-name="Rectangle 141" width="40" height="40" transform="translate(-4344 757)" fill="#fff" opacity="0"/>
                            </g>
                          </svg>                          
                        <a class="text">pm25</a><br>
                        <a class="num">{{pm25}} µg</a>
                    </div>

                    <!-- pressure div -->  
                    <div *ngIf="pressure !null" class="box">       
                        &nbsp;&nbsp;
                        <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40">
                            <g id="Pressure" transform="translate(4324 -956)">
                              <rect id="Rectangle_144" data-name="Rectangle 144" width="40" height="40" transform="translate(-4324 956)" fill="#fff" opacity="0"/>
                              <path id="Control_My_Data_19371" data-name="Control_My Data_19371" d="M85.608,85.936h0a2.175,2.175,0,1,0,3.854,1.649h0l1.761-9.568ZM87.3,99.6A12.3,12.3,0,1,0,75,87.3,12.3,12.3,0,0,0,87.3,99.6ZM78.086,83.089a10.148,10.148,0,0,1,1.8-2.692l1.536,1.536a7.976,7.976,0,0,0-1.331,1.988l1.329.551-.277.669-3.338-1.383c.05-.134.1-.267.158-.4.038-.091.078-.18.119-.27Zm15.37,2.051-.277-.669,1.329-.551a7.975,7.975,0,0,0-1.331-1.987L94.713,80.4h0a10.147,10.147,0,0,1,1.8,2.692h0c.041.089.081.179.119.27.056.132.108.265.158.4Zm-7.287,4.819a2.9,2.9,0,0,1-1.759-2.666h0a2.9,2.9,0,0,1,.614-1.782l4.208-5.933a7.967,7.967,0,0,0-7.294,1.844L80.4,79.886a10.091,10.091,0,0,1,6.4-2.7h.039l.208-.008q.125,0,.251,0l.235,0,.092,0,.137.005.12.006.1.006.145.011.053,0a10.086,10.086,0,0,1,2.375.5h0q.346.118.685.26t.669.312h0A10.157,10.157,0,0,1,94.2,79.885l-1.536,1.536a7.992,7.992,0,0,0-1.169-.885l-1.321,7.176a2.9,2.9,0,0,1-4.007,2.246Z" transform="translate(-4391 889)" fill-rule="evenodd"/>
                            </g>
                          </svg>                                                 
                        <a class="text">Pressure</a><br>
                        <a class="num">{{pressure}} Pa</a>
                    </div>

                    <!-- sound div --> 
                    <div *ngIf="sound !null" class="box">
                        &nbsp;&nbsp;
                        <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40">
                            <g id="Sound" transform="translate(4221 -1077)">
                              <rect id="Rectangle_145" data-name="Rectangle 145" width="40" height="40" transform="translate(-4221 1077)" fill="#fff" opacity="0"/>
                              <path id="Speech_recognition" data-name="Speech recognition" d="M257.713,239.424h-.761v.03a.761.761,0,1,1-1.522,0v-.03h-1.522V242.5a.761.761,0,0,1-1.522,0v-1.522a.761.761,0,0,1-1.522,0v-1.552h-1.522v.03a.761.761,0,1,1-1.522,0V242.5a.761.761,0,0,1-1.522,0v-3.073h0v7.638a.761.761,0,1,1-1.522,0v-3.043a.761.761,0,0,1-1.522,0v4.565a.761.761,0,1,1-1.522,0v-9.16h-1.522V242.5a.761.761,0,1,1-1.522,0v-1.522a.761.761,0,0,1-1.522,0v6.086a.761.761,0,1,1-1.522,0v-6.086a.761.761,0,0,1-1.522,0v-1.552h-1.522V242.5a.761.761,0,1,1-1.522,0v-3.043a.761.761,0,1,1-1.522,0v1.522a.761.761,0,0,1-1.522,0v-1.522a.761.761,0,1,1-1.522,0v-.03h-.761a.761.761,0,1,1,0-1.522h.762a.76.76,0,0,1,1.518,0h0v-1.491a.761.761,0,0,1,1.522,0V237.9h0a.76.76,0,0,1,1.518,0h0V234.89a.761.761,0,0,1,1.522,0V237.9h1.522v-1.491a.761.761,0,0,1,1.522,0v-6.086a.761.761,0,1,1,1.522,0v6.086a.761.761,0,0,1,1.522,0V234.89a.761.761,0,0,1,1.522,0V237.9h1.522V225.761a.761.761,0,0,1,1.522,0v7.608a.761.761,0,1,1,1.522,0v-3.043a.761.761,0,1,1,1.522,0V237.9h0V234.89a.761.761,0,0,1,1.522,0V237.9h0a.76.76,0,0,1,1.518,0h1.523v-1.491a.761.761,0,0,1,1.522,0V234.89a.761.761,0,0,1,1.522,0V237.9h1.523a.76.76,0,0,1,1.518,0h.762a.761.761,0,1,1,0,1.522Z" transform="translate(-4443 860)" fill-rule="evenodd"/>
                            </g>
                          </svg>                          
                            <a class="text">Sound</a><br>
                            <a class="num">{{sound}} dB</a>
                    </div> 

                    <!-- temperature div --> 
                    <div *ngIf="temperature !null" class="box"> 
                        &nbsp;&nbsp;
                        <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40">
                            <g id="Temperature" transform="translate(4221 -1198)">
                              <rect id="Rectangle_146" data-name="Rectangle 146" width="40" height="40" transform="translate(-4221 1198)" fill="#fff" opacity="0"/>
                              <path id="thermometer" d="M332.207,110.03a7.212,7.212,0,0,1-5.151-12.259V80.152a5.151,5.151,0,1,1,10.3,0v17.62a7.212,7.212,0,0,1-5.151,12.259ZM335.3,98.7V80.152a3.091,3.091,0,0,0-6.182,0v1.03h1.545a.515.515,0,1,1,0,1.03h-1.545v1.03h1.545a.515.515,0,1,1,0,1.03h-1.545V85.3h1.545a.515.515,0,1,1,0,1.03h-1.545V98.7a5.152,5.152,0,1,0,6.182,0Zm-3.091,7.212a3.091,3.091,0,0,1-1.566-5.756V89.96a1.566,1.566,0,1,1,3.132,0v10.193a3.091,3.091,0,0,1-1.566,5.756Z" transform="translate(-4532.995 1125)" fill-rule="evenodd"/>
                            </g>
                          </svg>                                                  
                        <a class="text">Temperature</a><br>
                        <a class="num">{{temperature}} °C</a>
                    </div> 

                    <!-- tvoc div --> 
                    <div *ngIf="tvoc !null" class="box">   
                        &nbsp;&nbsp;
                        <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40">
                            <g id="tvoc" transform="translate(4117 -3441)">
                              <rect id="Rectangle_147" data-name="Rectangle 147" width="40" height="40" transform="translate(-4117 3441)" fill="#fff" opacity="0"/>
                              <path id="Wind" d="M118.687,195.68h-.013A4.327,4.327,0,0,1,115.6,194.4a1.7,1.7,0,1,1,2.406-2.391.955.955,0,0,0,.679.283h0a.961.961,0,0,0,.682-1.638.971.971,0,0,0-.686-.283H102.728a1.7,1.7,0,1,1,0-3.391h15.958a4.351,4.351,0,1,1,0,8.7Zm-15.959-10.624a1.7,1.7,0,1,1,0-3.391h23.257a1.625,1.625,0,1,0,0-3.249h0a1.616,1.616,0,0,0-1.148.474,1.7,1.7,0,1,1-2.4-2.4,5.017,5.017,0,1,1,3.553,8.566h-23.26Zm11.971-5.312H102.728a1.7,1.7,0,1,1,0-3.391H114.7a.961.961,0,1,0,0-1.921h0a.956.956,0,0,0-.679.283,1.7,1.7,0,1,1-2.406-2.39,4.353,4.353,0,1,1,3.088,7.419Z" transform="translate(-4280.04 3576.997) rotate(-90)" fill-rule="evenodd"/>
                            </g>
                          </svg>                          
                        <a class="text">tvoc</a><br>
                        <a class="num">{{tvoc}} g</a>
                    </div> 

                </div>

                <div class="ss"> 
                    <button class="btn btn-primary" routerLink="/node/{{MAC}}">Learn more</button>
                </div>

        </div>
    </div>
    <div class="main_content">
        <div id="iotMap"></div>
    </div>
</div>
  